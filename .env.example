# ===========================================
# LibreDiary Environment Configuration
# Copy this file to .env and fill in your values
#
# Developed by Akaal Creatives
# https://www.akaalcreatives.com
# ===========================================

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=development
PORT=3000
APP_URL=http://localhost:5173
API_URL=http://localhost:3000
APP_SECRET=change-this-to-a-secure-random-string-min-32-chars

# ===========================================
# DATABASE
# ===========================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/librediary

# ===========================================
# AUTHENTICATION
# ===========================================
# Session
SESSION_SECRET=change-this-to-another-secure-random-string-min-32
SESSION_MAX_AGE=604800000  # 7 days in milliseconds

# OAuth - GitHub (optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# OAuth - Google (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ===========================================
# EMAIL (required for email features)
# ===========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@yourdomain.com

# ===========================================
# STORAGE
# ===========================================
# Options: local, minio, s3
STORAGE_TYPE=local

# Local storage path (relative to server root)
STORAGE_LOCAL_PATH=./data/files

# S3/MinIO (required if STORAGE_TYPE is minio or s3)
STORAGE_S3_ENDPOINT=http://localhost:9000
STORAGE_S3_BUCKET=librediary
STORAGE_S3_REGION=us-east-1
STORAGE_S3_ACCESS_KEY=minioadmin
STORAGE_S3_SECRET_KEY=minioadmin

# File limits
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=     # Empty = all allowed, or comma-separated: jpg,png,pdf,docx

# ===========================================
# BACKUP (optional)
# ===========================================
BACKUP_ENABLED=false
BACKUP_B2_KEY_ID=
BACKUP_B2_APP_KEY=
BACKUP_B2_BUCKET=
BACKUP_SCHEDULE=0 2 * * *  # Cron: Daily at 2 AM

# ===========================================
# AI - OpenRouter (optional)
# ===========================================
AI_ENABLED=true
OPENROUTER_API_KEY=
OPENROUTER_MODEL=openai/gpt-4o-mini

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100  # Max requests per window
RATE_LIMIT_WINDOW=60     # Window in seconds

# ===========================================
# SEARCH - Meilisearch (Phase 2, optional)
# ===========================================
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=masterkey
